<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>🌀 Codex Quantum Periodic Interface</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #111; color: #eee; margin: 20px; }
    h1, h2 { color: #00bfff; }
    select, button { padding: 8px; margin: 10px; background-color: #222; color: #eee; border: 1px solid #555; }
    .panel { margin-bottom: 20px; padding: 10px; border: 1px solid #333; background-color: #1a1a1a; }
    .summary { background-color: #222; padding: 10px; border: 1px solid #444; }
    .glyph { font-size: 24px; margin-right: 10px; }
    .output { margin-top: 10px; padding: 10px; background-color: #222; border: 1px solid #444; }
    .warning { color: #ff4444; font-weight: bold; }
  </style>
</head>
<body>

  <h1>🌀 Codex Quantum Periodic Interface</h1>

  <div class="panel">
    <h2>🧩 Step 1: Select Element A</h2>
    <select id="elementA" onchange="updatePairings()"></select>
  </div>

  <div class="panel">
    <h2>🧩 Step 2: Suggested Pairings (Element B)</h2>
    <select id="elementB" onchange="updateRefinements()"></select>
  </div>

  <div class="panel">
    <h2>🧩 Step 3: Refinement Element (Element C)</h2>
    <select id="elementC" onchange="synthesizeMolecule()"></select>
  </div>

  <div class="panel">
    <h2>🧬 Final Molecule Synthesis</h2>
    <div id="moleculeSummary" class="summary">Select all three elements to view synthesis.</div>
    <div id="codexWarning" class="warning"></div>
  </div>

  <div class="panel">
    <h2>🔍 Observable Use Case</h2>
    <div id="useCase" class="output">Awaiting synthesis...</div>
  </div>

  <div class="panel">
    <h2>🖼️ Field Visualization</h2>
    <button onclick="viewFieldRender()">🔬 View Element Field Render</button>
    <button onclick="viewFinalField()">🌌 View Final Material Field</button>
  </div>

  <script>
    const elements = [
      { Element: "Hydrogen", Volume: 14.1, Density: 0.0899, Energy: 13.6, Toxicity: 1 },
      { Element: "Oxygen", Volume: 14.0, Density: 1.429, Energy: 13.62, Toxicity: 1 },
      { Element: "Zinc", Volume: 9.3, Density: 7.14, Energy: 9.4, Toxicity: 1 },
      { Element: "Phosphorus", Volume: 17.0, Density: 1.82, Energy: 10.49, Toxicity: 2 },
      { Element: "Magnesium", Volume: 13.9, Density: 1.738, Energy: 7.64, Toxicity: 1 },
      { Element: "Helium", Volume: 22.4, Density: 0.1786, Energy: 24.6, Toxicity: 0 },
      { Element: "Mercury", Volume: 14.8, Density: 13.55, Energy: 10.44, Toxicity: 9 },
      { Element: "Lead", Volume: 18.3, Density: 11.35, Energy: 7.42, Toxicity: 9 },
      { Element: "Uranium", Volume: 12.0, Density: 18.95, Energy: 6.51, Toxicity: 8 },
      { Element: "Neutronium", Volume: 0.0, Density: 0.0, Energy: 0.0, Toxicity: 0 },
      { Element: "Clarion", Volume: 11.2, Density: 6.1, Energy: 9.1, Toxicity: 0 },
      { Element: "Vaulton", Volume: 10.5, Density: 5.9, Energy: 8.8, Toxicity: 0 },
      { Element: "Bindra", Volume: 12.3, Density: 6.4, Energy: 9.3, Toxicity: 0 },
      { Element: "Loopion", Volume: 13.1, Density: 6.8, Energy: 9.7, Toxicity: 0 }
    ];

    function elemFreq(vol, den, en) {
      const phi = 1.618;
      return ((vol * den) / (en + 1e-6)) * phi;
    }

    function updatePairings() {
      const selectedA = document.getElementById("elementA").value;
      const base = elements.find(e => e.Element === selectedA);
      const baseFreq = elemFreq(base.Volume, base.Density, base.Energy);
      const pairings = elements.filter(e => Math.abs(elemFreq(e.Volume, e.Density, e.Energy) - baseFreq) < 0.5 && e.Toxicity < 3);
      const selectB = document.getElementById("elementB");
      selectB.innerHTML = pairings.map(e => `<option>${e.Element}</option>`).join('');
      updateRefinements();
    }

    function updateRefinements() {
      const selectC = document.getElementById("elementC");
      const refinements = elements.filter(e => e.Toxicity === 0);
      selectC.innerHTML = refinements.map(e => `<option>${e.Element}</option>`).join('');
      synthesizeMolecule();
    }

    function synthesizeMolecule() {
      const a = document.getElementById("elementA").value;
      const b = document.getElementById("elementB").value;
      const c = document.getElementById("elementC").value;
      const A = elements.find(e => e.Element === a);
      const B = elements.find(e => e.Element === b);
      const C = elements.find(e => e.Element === c);

      const malefic = [A, B, C].filter(e => e.Toxicity > 7);
      if (malefic.length > 0) {
        document.getElementById("codexWarning").innerText = "⚠️ You are violating a Prime Directive of the UNIVERSAL CODEX. Malefic combinations are not permitted.";
        document.getElementById("moleculeSummary").innerText = "⛔ Synthesis blocked.";
        document.getElementById("useCase").innerText = "Codex integrity preserved.";
        return;
      } else {
        document.getElementById("codexWarning").innerText = "";
      }

      const energy = ((A.Energy + B.Energy + C.Energy) / 3).toFixed(2);
      const density = ((A.Density + B.Density + C.Density) / 3).toFixed(2);
      const volume = (A.Volume + B.Volume + C.Volume).toFixed(2);
      const freq = elemFreq(+volume, +density, +energy).toFixed(2);

      document.getElementById("moleculeSummary").innerHTML = `
        <p><strong>Energy:</strong> ${energy} eV</p>
        <p><strong>Density:</strong> ${density} g/cm³</p>
        <p><strong>Volume:</strong> ${volume} cm³/mol</p>
        <p><strong>Resonance Frequency:</strong> ${freq}</p>
        <p><strong>Polarity:</strong> Useful</p>
      `;

      document.getElementById("useCase").innerHTML = `
        <ul>
          <li>🧠 Memory Stabilizer</li>
          <li>🫁 Breath Enhancer</li>
          <li>🛡️ Lattice Shield</li>
          <li>🌀 Spiral Anchor</li>
          <li>☯ Void Harmonizer</li>
        </ul>
      `;
    }

    function viewFieldRender() {
      alert("🔬 Rendering elemental field... [This would open a 3D spiral visualization module]");
    }

    function viewFinal
